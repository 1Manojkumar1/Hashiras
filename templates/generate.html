{% extends "base.html" %}

{% block title %}Generate Curriculum - CurrHub{% endblock %}

{% block content %}
<div class="entry-animation app-container">
    <div class="container">
        <!-- Input Section -->
        <div id="inputSection">
            <div class="card" style="max-width: 800px; margin: 0 auto;">
                <h2>Build Your Curriculum</h2>
                <form id="curriculumForm">
                    <div class="form-group">
                        <label for="program_type">Program Type</label>
                        <select id="program_type" name="program_type" required>
                            <option value="">-- Select --</option>
                            <option value="B.Tech">B.Tech</option>
                            <option value="M.Tech">M.Tech</option>
                            <option value="B.Sc">B.Sc</option>
                            <option value="M.Sc">M.Sc</option>
                            <option value="MBA">MBA</option>
                            <option value="BBA">BBA</option>
                            <option value="PhD">PhD</option>
                            <option value="Diploma">Diploma</option>
                            <option value="Associate Degree">Associate Degree</option>
                            <option value="Certification">Professional Certification</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="domain">Domain</label>
                        <select id="domain" name="domain" required disabled>
                            <option value="">-- First, select Program Type --</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="academic_level">Academic Level</label>
                        <select id="academic_level" name="academic_level" required>
                            <option value="">-- Select --</option>
                            <option value="Undergraduate">Undergraduate</option>
                            <option value="Graduate">Graduate</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="duration_semesters">Duration (Semesters)</label>
                        <select id="duration_semesters" name="duration_semesters" required>
                            <option value="1">1 Semester</option>
                            <option value="2">2 Semesters</option>
                            <option value="3">3 Semesters</option>
                            <option value="4" selected>4 Semesters</option>
                            <option value="5">5 Semesters</option>
                            <option value="6">6 Semesters</option>
                            <option value="7">7 Semesters</option>
                            <option value="8">8 Semesters</option>
                            <option value="9">9 Semesters</option>
                            <option value="10">10 Semesters</option>
                            <option value="11">11 Semesters</option>
                            <option value="12">12 Semesters</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="accreditation_body">Accreditation Body</label>
                        <select id="accreditation_body" name="accreditation_body" required>
                            <option value="">-- Select Body --</option>
                            <option value="NAAC">NAAC (India)</option>
                            <option value="NBA">NBA (India)</option>
                            <option value="ABET">ABET (International/Engineering)</option>
                            <option value="AACSB">AACSB (Business)</option>
                            <option value="AMBA">AMBA (MBA)</option>
                            <option value="EQUIS">EQUIS (Business)</option>
                            <option value="UGC">UGC (India)</option>
                            <option value="WASC">WASC (USA)</option>
                            <option value="SACSCOC">SACSCOC (USA)</option>
                            <option value="MSCHE">MSCHE (USA)</option>
                            <option value="BCS">BCS (Computing)</option>
                            <option value="Engineers Australia">Engineers Australia</option>
                            <option value="Other">Other / General</option>
                        </select>
                    </div>

                    <button type="submit" class="btn-primary" style="margin-top: 1.5rem;">âœ¨ Generate Curriculum</button>
                </form>
            </div>

            <!-- Vision Card -->
            <div class="card vision-card"
                style="margin-top: 3rem; max-width: 800px; margin-left: auto; margin-right: auto; animation: fadeInUp 1s ease-out;">
                <h3><i class="fas fa-sparkles" style="color: #6366f1; margin-right: 0.5rem;"></i> Build Your Vision</h3>
                <ul style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <li><i class="fas fa-check-circle"></i> Course structure generation</li>
                    <li><i class="fas fa-check-circle"></i> Topic recommendations</li>
                    <li><i class="fas fa-check-circle"></i> Curriculum planning</li>
                    <li><i class="fas fa-check-circle"></i> Learning outcome mapping</li>
                    <li><i class="fas fa-check-circle"></i> Academic optimization</li>
                    <li><i class="fas fa-check-circle"></i> Industry alignment</li>
                </ul>
            </div>
        </div>

        <!-- Result Section (Hidden initially) -->
        <div id="resultSection" style="display: none;">
            <div class="card preview-panel" id="previewPanel">
                <!-- Back Button -->
                <button id="backButton" class="btn-secondary" style="margin-bottom: 2rem;">
                    <i class="fas fa-arrow-left"></i> Back to Editor
                </button>

                <div class="placeholder-text" id="placeholderText">
                    <i class="fas fa-graduation-cap"></i>
                    <p>Your AI-generated curriculum will appear here.</p>
                </div>

                <!-- Loading Indicator (Hidden by default) -->
                <div id="loadingIndicator" class="placeholder-text" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Generating your curriculum with AI...</p>
                </div>

                <div id="previewContent" style="display: none;">
                    <h2 id="previewTitle"></h2>
                    <div id="previewCourses"></div>
                    <div style="text-align: center; margin-top: 3rem; margin-bottom: 2rem;">
                        <button class="btn-download" onclick="downloadPDF()">
                            <i class="fas fa-file-pdf"></i> Download as PDF
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/script.js"></script>
{% endblock %}